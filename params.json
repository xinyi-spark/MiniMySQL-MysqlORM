{
  "name": "Miniorm-mysql",
  "tagline": "Based on the MySQLdb provide formatting Mysql light-weight ORM/基于MySQLdb提供格式化操作Mysql的轻量级ORM",
  "body": "## June 2 2016 9:14 AM\r\n\r\n# MiniMySQL-MysqlORM\r\n\r\n* * *\r\n\r\n\r\n## system function/系统功能\r\n\r\nBy joining together the SQL statement, lightweight MySQL ORM  \r\n通过拼接SQL语句，实现轻量级MySQL ORM\r\n\r\n## Use examples/使用范例\r\n\r\n- database connection/数据库连接\r\n\r\n\tmysql_handle = MysqlHandleBase(mysql_host='127.0.0.1', mysql_user='root', mysql_password='',mysql_db='')\r\n\r\n- Query example/查询举例\r\n```\r\ntable_name = 'gray_list'\r\nfields = ['url']\r\nselect_result = mysql_handle.select(\r\n    table_name, fields=fields, fetch_type='all')\r\nprint select_result\r\n```\r\n```\r\nsql = \"SELECT * FROM followers_big ORDER BY id LIMIT 10\"\r\nselect_result = mysql_handle.select(sql=sql, fetch_type='all')\r\nprint select_result\r\n```\r\n```\r\ntable_name = 'server_live'\r\nengine_type = '01'\r\nprint mysql_handle.select(table_name, fields=['engine_num'], wheres={'type': [engine_type, 's']}, fetch_type='one', orders='engine_num DESC')\r\n```\r\n\r\n- Update example/更新举例\r\n```\r\ntable_name = 'task_result'\r\nfields = {'task_state': [2, 'd']}  # wait to update fields\r\nwheres = {'task_id': [3, 'd'], 'start_time': ['2015-06-11 11:22:53', 's']}\r\nresult = mysql_handle.update(table_name, fields, wheres)\r\nprint result\r\n```\r\n\r\n- Insert example/插入举例\r\n```\r\ntable_name = 'task_info'\r\nfields = {'task_id': [54, 'd'], 'task_type': [\r\n    2, 'd'], 'task_engine': ['01-02', 's']}  # wait to insert fields\r\nresult = mysql_handle.insert(table_name, fields)\r\nprint result\r\n```\r\n\r\n- Del example/删除举例\r\n```\r\ntable_name = 'task_info'\r\nwheres = {'task_id': [46, 'd']}  # select condition\r\nresult = mysql_handle.delete(\r\n    table_name, wheres=wheres)\r\nprint result\r\n```\r\n\r\n- Batch insert example/批量插入举例\r\n```\r\ntable_name = 'followers_big'\r\nfields = [('url_hash', 's'), ('url', 's')]\r\nparam = (('1111','www.baidu.com'), ('2222','www.baidu2.com'))\r\n# fields = [('url_hash', 's')]\r\n# param = (('1111',), ('2222',))\r\nprint mysql_handle.batch_insert(table_name, fields, param)\r\n```\r\n\r\n- Batch del example/批量删除举例\r\n```\r\ntable_name = 'followers_big'\r\nwheres_list = [{'id': [154, 'd']}, {'id': [155, 'd']}]\r\nprint mysql_handle.batch_delete(table_name, wheres_list)\r\n```\r\n\r\n- Update example/批量更新举例\r\n```\r\ntable_name = 'followers_big'\r\nfields_list = [{'uid': [1, 's']}, {'uid': [2, 's']}]\r\nwheres_list = [{'id': [154, 'd']}, {'id': [155, 'd']}]\r\nprint mysql_handle.batch_delete(table_name, fields_list, wheres_list)\r\n```\r\n\r\n## contact/联系方式\r\n\r\n\r\n609610350@qq.com\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}